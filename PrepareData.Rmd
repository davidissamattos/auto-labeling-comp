This file should run online once to create the dataset
# Data preparation

Reading the (full) csv for each data set. To each dataset we will add three columns.

1- Indicating the data set
2- Indicating the type of dataset
3- Indicating if we are measuring accuracy or time


To add new datasets is basically just adding chunks here. If adding new algorithms it can be added as a new dataset if there is no repeated algorithms..

```{r}
d <- read_csv('./data/parts/20news_full_acc.csv') %>% 
  mutate(Dataset='20news',
         DatasetType='Text',
         ValueType='Accuracy') %>%
  dplyr::rename(Value=Accuracy) %>% 
  dplyr::select(-X1)

d<-read_csv('./data/parts/20news_full_time.csv') %>% 
  mutate(Dataset='20news',
         DatasetType='Text',
         ValueType='Time') %>%
  dplyr::rename(Value=Time) %>%
  dplyr::select(-X1)  %>% 
  bind_rows(d,.)
```

```{r}
d <- read_csv('./data/parts/corpus_full_acc.csv') %>% 
  mutate(Dataset='corpus',
         DatasetType='Text',
         ValueType='Accuracy') %>%
  dplyr::rename(Value=Accuracy) %>% 
  dplyr::select(-X1) %>% 
  bind_rows(d,.)

d<- read_csv('./data/parts/corpus_full_time.csv') %>% 
  mutate(Dataset='corpus',
         DatasetType='Text',
         ValueType='Time') %>%
  dplyr::rename(Value=Time) %>%
  dplyr::select(-X1) %>% 
  bind_rows(d,.)
```

```{r}
d <- read_csv('./data/parts/cifar_full_acc.csv') %>% 
  mutate(Dataset='cifar',
         DatasetType='Image',
         ValueType='Accuracy') %>%
  dplyr::rename(Value=Accuracy) %>% 
  dplyr::select(-X1) %>% 
  bind_rows(d,.)

d <- read_csv('./data/parts/cifar_full_time.csv') %>% 
  mutate(Dataset='cifar',
         DatasetType='Image',
         ValueType='Time') %>%
  dplyr::rename(Value=Time) %>%
  dplyr::select(-X1) %>% 
  bind_rows(d,.)
```

```{r}
d <- read_csv('./data/parts/digits_full_acc.csv') %>% 
  mutate(Dataset='digits',
         DatasetType='Image',
         ValueType='Accuracy') %>%
  dplyr::rename(Value=Accuracy) %>% 
  dplyr::select(-X1) %>% 
  bind_rows(d,.)

d <- read_csv('./data/parts/digits_full_time.csv') %>% 
  mutate(Dataset='digits',
         DatasetType='Image',
         ValueType='Time') %>%
  dplyr::rename(Value=Time) %>%
  dplyr::select(-X1) %>% 
  bind_rows(d,.)
```

```{r}
d <- read_csv('./data/parts/wine_full_acc.csv') %>% 
  mutate(Dataset='wine',
         DatasetType='Numerical',
         ValueType='Accuracy') %>%
  dplyr::rename(Value=Accuracy) %>% 
  dplyr::select(-X1) %>% 
  bind_rows(d,.)

d <- read_csv('./data/parts/wine_full_time.csv') %>% 
  mutate(Dataset='wine',
         DatasetType='Numerical',
         ValueType='Time') %>%
  dplyr::rename(Value=Time) %>%
  dplyr::select(-X1) %>% 
  bind_rows(d,.)
```

```{r}
d <- read_csv('./data/parts/iris_full_acc.csv') %>% 
  mutate(Dataset='iris',
         DatasetType='Numerical',
         ValueType='Accuracy') %>%
  dplyr::rename(Value=Accuracy) %>% 
  dplyr::select(-X1) %>% 
  bind_rows(d,.)

d <- read_csv('./data/parts/iris_full_time.csv') %>% 
  mutate(Dataset='iris',
         DatasetType='Numerical',
         ValueType='Time') %>%
  dplyr::rename(Value=Time) %>%
  dplyr::select(-X1) %>% 
  bind_rows(d,.)
```

Correcting a few typos in the dataset and doing some renaming
```{r}
d<- d %>% dplyr::mutate(
  model=dplyr::recode(d$model,
                      labeldpreadrbf='labelspreadrbf')
)
  
```


Addding meaningful labels to make it easier to do the rest
```{r}
get_index_names_as_array(d$model)
d<- d %>% dplyr::mutate(
  model=dplyr::recode(d$model,
                      labelpropknn='LabelPropagationKNN',
                      labelproprbf='LabelPropagationRBF',
                      labelspreadknn='LabelSpreadingKNN',
                      labelspreadrbf='LabelSpreadingRBF',
                      QBC='QBC',
                      random='RandomSampling',
                      uncertainty='UncertaintySampling')
) %>% 
  dplyr::rename(Model=model)
```


Saving the csv dataset

```{r}
write_csv(d, './data/auto-label-comparison.csv')
```


